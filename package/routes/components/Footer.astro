---
import branding from 'astro-feedback:branding';
import ExternalRedirectButton from './ExternalRedirectButton.astro';
import BuiltWithAstro from './icons/BuiltWithAstro.astro';

const { AUTHOR, GITHUB, SITE_TITLE } = branding;
---

<footer class="footer footer-center pt-8 flex-col gap-2">

  <div class="opacity-75">
    <span>
      <ExternalRedirectButton link={GITHUB.LICENSE}>
        <strong id="ui-components-footer-license">MIT Licensed</strong>
      </ExternalRedirectButton>
       ‚îÅ {SITE_TITLE}</span>
  </div>

  <div class="opacity-75">
    <span>
      <span id="ui-components-footer-developer">Developed by</span> 
      <ExternalRedirectButton link={AUTHOR.url} class="font-bold">
        {AUTHOR.name}
      </ExternalRedirectButton>
    </span>
  </div>

  <ExternalRedirectButton link="https://astro.build">
    <BuiltWithAstro title="Built with Astro" />
  </ExternalRedirectButton>
  
</footer>

<script>
import { $i18n, updateUiString } from "../store/i18n.ts";
import enJson from '../store/translations/en.json';
    
    const i18n = $i18n('components/footer', enJson['components/footer']);
    
    i18n.subscribe(t => {
        updateUiString({
            element: "ui-components-footer-license",
            translation: t['license']
        })
        updateUiString({
            element: "ui-components-footer-developer",
            translation: t['developer']
        })
    });
</script>