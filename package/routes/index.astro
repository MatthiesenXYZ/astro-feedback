---
import b from 'astro-feedback:branding';
import r from 'astro-feedback:routes';
import HorizontalContainer from './components/HorizontalContainer.astro';
import Heading from './components/headings/Heading.astro';
import Landing from './components/landing/Landing.astro';
import BaseLayout from './layouts/BaseLayout.astro';

const { SITE_TITLE } = b;

// get links
const {
	base: { feedback },
	portal: { login },
} = r;
---

<BaseLayout 
    sideBarActiveItemID="home" 
    includeSidebar={false} 
    includeHeader={false}
    >

    <HorizontalContainer>

        <Landing part={'logo'} />
            
        <div>
            <Heading tag={'h2'}>Welcome to the</Heading>

            <Heading tag={'h1'}>{SITE_TITLE}</Heading>
            
            <Landing part={'description'} />
            
            <Landing part={'buttoncard'} />
        </div>
    
    </HorizontalContainer>

</BaseLayout>

<script 
    is:inline
    data-login={login}
    data-feedback={feedback}
    >
    const loginRoute = document.currentScript.getAttribute('data-login');
    const feedbackRoute = document.currentScript.getAttribute('data-feedback');

    const loginButton = document.getElementById('index-login');
    const feedbackButton = document.getElementById('index-submit-feedback');

    loginButton.addEventListener('click', () => {
        window.location.href = loginRoute;
    });

    feedbackButton.addEventListener('click', () => {
        window.location.href = feedbackRoute;
    });
</script>